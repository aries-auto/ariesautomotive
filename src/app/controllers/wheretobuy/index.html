<div class="container full-width">
    <div class="row header-row">
        <div class="col-md-3">
            <h1>Buy Local</h1>
        </div>
        <div class="col-md-9 search-form row">
            <input type="search" class="form-control autocomplete" placeholder="Search for location" ng-show="map.show">
        </div>
    </div>

    <div id="map" class="angular-google-map-container map-box">
        <ui-gmap-google-map ng-if="map.show" style="top:80px" class="col-md-12" center="map.center"
                            control="gMap"
                            zoom="map.zoom"
                            dragging="map.dragging"
                            options="map.options"
                            events="map.events"
                            bounds="map.bounds"
                            refresh="map.refresh"
                            pan="true">
            <ui-gmap-markers idKey="'id'" models="locations" doCluster="true" clusterOptions="{minimumClusterSize: 10}" icon="'icon'" coords="'coords'">
                <ui-gmap-windows show="show">
                    <div class="info-window" ng-non-bindable>
                        <span class="title">[[ name ]]</span>
                        <span class="dealer-type">[[ dealerType.label ]]</span>
                        <span class="street">[[ address ]]</span>
                        <span class="city">[[ city ]], [[state.abbreviation]] [[ postalCode ]]</span>
                        <hr>
                        <div class="actions">
                            <a href="tel:[[ phone ]]" class="pull-left">
                                <span class="glyphicon glyphicon-earphone"></span>
                                [[ phone ]]
                            </a>
                            <a href="#directions" class="pull-right">
                                <span class="glyphicon glyphicon-th-list"></span>
                                Directions
                            </a>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </ui-gmap-windows>
            </ui-gmap-markers>
            <ui-gmap-polygons ng-if="map.polys && map.zoom < 6" idKey="'name'" models="map.polys" path="'coordinates'"
                     stroke="{ color: '#57111a', weight: 3, opacity: '0.8' }" fill="{ opacity: '0.0'}" visible="true" geodesic="true" fit="false"
                     editable="false" static="true" ng-cloak="" events="map.polyEvents">

            </ui-gmap-polygons>
        </ui-gmap-google-map>
    </div>

    <div class="row">
        <div ng-repeat="loc in locations" class="col-md-3 col-sm-12 col-xs-12 text-locations">
            <div itemscope itemtype="http://schema.org/PostalAddress">
                <a ng-click="panTo(loc)" class="name" itemprop="name">[[ loc.name ]]</a>
                <span class="type">[[ loc.dealerType.label ]]</span>
                <span class="address" itemprop="streetAddress">[[ loc.address ]]</span>
                <span class="city" itemprop="addressLocality">[[ loc.city ]]</span>
                <span>,</span>
                <span class="state" itemprop="addressRegion">[[ loc.state.abbreviation ]]</span>
                <span class="zip" itemprop="postalCode">[[ loc.postalCode ]]</span>
                <span class="country" itemprop="addressCountry">[[ loc.country.country ]]</span>

                <a ng-if="loc.showWebsite && loc.website.Host !== ''" href="[[ loc.website.Scheme ]]://[[ loc.website.Host ]][[ loc.website.Path ]]" class="website">
                    [[ loc.website.Scheme ]]://[[ loc.website.Host ]][[ loc.website.Path ]]
                </a>

                <div class="actions">
                    <a href="tel:[[ loc.phone ]]">
                        <span class="glyphicon glyphicon-earphone"></span>
                        [[ loc.phone ]]
                    </a>
                    <a href="#directions">
                        <span class="glyphicon glyphicon-th-list"></span>
                        Directions
                    </a>
                    <a ng-click="panTo(loc)">
                        <span class="glyphicon glyphicon-map-marker"></span>
                        View on Map
                    </a>
                </div>

            </div>
        </div>
    </div>

</div>
